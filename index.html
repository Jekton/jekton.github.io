<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>程序员虾饺</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">程序员虾饺</h1><a id="logo" href="/.">程序员虾饺</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2019/10/28/android-fragment-pitfall/">Fragment 使用陷阱</a></h1><div class="post-meta">2019-10-28</div><a class="disqus-comment-count" data-disqus-identifier="2019/10/28/android-fragment-pitfall/" href="/2019/10/28/android-fragment-pitfall/#disqus_thread"></a><div class="post-content"><p>本篇文章主要总结过去在项目里遇到的由于 <code>Fragment</code> 误用带来的一些问题，不涉及 <code>Fragment</code> 的具体用法。这里说的 <code>Fragment</code> 带来的问题，基本是由 <code>Activity</code> 被系统销毁后自动重新创建所引发的。下面我们从 <code>Fragment</code> 的基本使用、参数传递和 <code>ViewPager</code> 的交互这三个方面来分别讨论。</p></div><p class="readmore"><a href="/2019/10/28/android-fragment-pitfall/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2019/07/08/android-scrollview-impl/">ScrollView 实现指北</a></h1><div class="post-meta">2019-07-08</div><a class="disqus-comment-count" data-disqus-identifier="2019/07/08/android-scrollview-impl/" href="/2019/07/08/android-scrollview-impl/#disqus_thread"></a><div class="post-content"><p>在这之前，好几次想了解 <code>ScrollView</code> 实现，粗略翻翻，每次都没抓到要点；又实在没有非常迫切的需求，也就没有花太多心思了。最近工作上有个任务需要类似 <code>ScrollView</code> 的实现，只得下功夫研究一翻，于是有了这篇小短文。</p>
<p>首先要澄清的是，我不打算去分析 <code>ScrollView</code> 的源码，我们的目的只是为了弄清楚他最根本的实现方式。另外，涉及 <code>View</code> 的绘制时，也仅仅当他是一个黑盒，我们将会了解到如何使用 <code>View</code> 提供的 API 来实现自己的 scroll view。</p></div><p class="readmore"><a href="/2019/07/08/android-scrollview-impl/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2019/05/26/java-multi-singleton/">如何使用 Java 和 double-check 实现支持多实例的单例</a></h1><div class="post-meta">2019-05-26</div><a class="disqus-comment-count" data-disqus-identifier="2019/05/26/java-multi-singleton/" href="/2019/05/26/java-multi-singleton/#disqus_thread"></a><div class="post-content"><p>考虑这样一个需求，我们有两个业务 A 和 B，他们共同使用一个硬盘缓存 <code>DiskCache</code> 的实现。由于在单个业务内只需要一份缓存，这很容易让我们想到单例模式。在本篇文章中，我们从最简单的传统的单例模式的实现开始，一步步实现一个优雅高效的多实例的单例模式。</p></div><p class="readmore"><a href="/2019/05/26/java-multi-singleton/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2019/04/06/native-crash-catching/">Android native 崩溃信息捕获实践</a></h1><div class="post-meta">2019-04-06</div><a class="disqus-comment-count" data-disqus-identifier="2019/04/06/native-crash-catching/" href="/2019/04/06/native-crash-catching/#disqus_thread"></a><div class="post-content">本篇是 bugly 一篇关于 native crash 捕获的文章的练习。由于他文章中已经给出了相关的大部分知识点，这里我就仅仅补充一些细节，并给出一个完整的 demo。</div><p class="readmore"><a href="/2019/04/06/native-crash-catching/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2019/03/21/android9-lmk-lmkd/">Android P 源码分析 5 - Low memory killer 之 lmkd 守护进程</a></h1><div class="post-meta">2019-03-21</div><a class="disqus-comment-count" data-disqus-identifier="2019/03/21/android9-lmk-lmkd/" href="/2019/03/21/android9-lmk-lmkd/#disqus_thread"></a><div class="post-content">lmkd 是在应用层实现的取代原有 lowmemorykiller 驱动的守护进程。通过监听 memory pressure 事件，lmkd 可以在内存 low、medium 和 critical 的时候得到通知，进而回收优先级比较低的进程</div><p class="readmore"><a href="/2019/03/21/android9-lmk-lmkd/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2019/03/20/android9-logd-init/">Android P 源码分析 4 - logd 的初始化</a></h1><div class="post-meta">2019-03-20</div><a class="disqus-comment-count" data-disqus-identifier="2019/03/20/android9-logd-init/" href="/2019/03/20/android9-logd-init/#disqus_thread"></a><div class="post-content"><p>为了跟老罗的书保持一个比较一致的步伐，这一篇开始我们来看 logd 的实现。当然，这个 logd 不是老罗书里讲的 log 驱动，而是在应用层实现的一个守护进程。</p></div><p class="readmore"><a href="/2019/03/20/android9-logd-init/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2019/03/19/android9-sp/">Android P 源码分析 3 - SharedPreferences 源码分析</a></h1><div class="post-meta">2019-03-19</div><a class="disqus-comment-count" data-disqus-identifier="2019/03/19/android9-sp/" href="/2019/03/19/android9-sp/#disqus_thread"></a><div class="post-content"><p>本来按顺序这一篇应该是 logd，但突然有点好奇 SP 在保存数据的时候是怎么同步的，就还是先看 SP 吧，当做在开始啃 logd 这个硬骨头前轻松一下（虽然这么说，SP 还是有很多值得我们学习的地方的）。</p></div><p class="readmore"><a href="/2019/03/19/android9-sp/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2019/03/12/android9-sp-wp/">Android P 源码分析 2 - 强弱指针的实现</a></h1><div class="post-meta">2019-03-12</div><a class="disqus-comment-count" data-disqus-identifier="2019/03/12/android9-sp-wp/" href="/2019/03/12/android9-sp-wp/#disqus_thread"></a><div class="post-content"><p>继上篇我们学习了 Android 轻量级指针的实现，是时候来看“重量级”指针的实现了。在 Android 里，“重量级”指针指的是 <code>RefBase</code> 和 <code>sp/wp</code> 配合使用的情况，它提供了完整的强、弱指针的支持。</p></div><p class="readmore"><a href="/2019/03/12/android9-sp-wp/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2019/03/06/android9-light-sp/">Android P 源码分析 1 - 轻量级智能指针的实现</a></h1><div class="post-meta">2019-03-06</div><a class="disqus-comment-count" data-disqus-identifier="2019/03/06/android9-light-sp/" href="/2019/03/06/android9-light-sp/#disqus_thread"></a><div class="post-content">作为 Android 源码分析系列文章的第一篇，我们先看 LightRefBase 的源码，热热身。</div><p class="readmore"><a href="/2019/03/06/android9-light-sp/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/12/15/linux-wait-event/">Java 程序员眼里的 Linux 内核 —— wait_event 源码分析</a></h1><div class="post-meta">2018-12-15</div><a class="disqus-comment-count" data-disqus-identifier="2018/12/15/linux-wait-event/" href="/2018/12/15/linux-wait-event/#disqus_thread"></a><div class="post-content">看 Linux 的 wait_event 源码时，联想到我们平时经常用得比较多的 wait/notify、double-check 和 volatile，突然意识 wait_event 简简单单几行代码的背后，涉及的知识非常丰富。本篇文章我们就一起了来探索它背后的知识，然后尝试着和我们的日常开发关联起来。</div><p class="readmore"><a href="/2018/12/15/linux-wait-event/">阅读全文</a></p></div><nav class="page-navigator"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">下一页</a></nav><script id="dsq-count-scr" src="//jekton-github-io.disqus.com/count.js" async></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Dart/">Dart</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/">Flutter</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Android-arch/" style="font-size: 15px;">Android arch</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/Binder/" style="font-size: 15px;">Binder</a> <a href="/tags/parallel-programming/" style="font-size: 15px;">parallel-programming</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/synchronized/" style="font-size: 15px;">synchronized</a> <a href="/tags/读书笔记/" style="font-size: 15px;">读书笔记</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/openjdk/" style="font-size: 15px;">openjdk</a> <a href="/tags/Android-source/" style="font-size: 15px;">Android source</a> <a href="/tags/Dart/" style="font-size: 15px;">Dart</a> <a href="/tags/Flutter/" style="font-size: 15px;">Flutter</a> <a href="/tags/Handler/" style="font-size: 15px;">Handler</a> <a href="/tags/杂谈/" style="font-size: 15px;">杂谈</a> <a href="/tags/logd/" style="font-size: 15px;">logd</a> <a href="/tags/JDK/" style="font-size: 15px;">JDK</a> <a href="/tags/native-crash/" style="font-size: 15px;">native-crash</a> <a href="/tags/Glide/" style="font-size: 15px;">Glide</a> <a href="/tags/Socket/" style="font-size: 15px;">Socket</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/10/28/android-fragment-pitfall/">Fragment 使用陷阱</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/08/android-scrollview-impl/">ScrollView 实现指北</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/26/java-multi-singleton/">如何使用 Java 和 double-check 实现支持多实例的单例</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/06/native-crash-catching/">Android native 崩溃信息捕获实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/21/android9-lmk-lmkd/">Android P 源码分析 5 - Low memory killer 之 lmkd 守护进程</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/20/android9-logd-init/">Android P 源码分析 4 - logd 的初始化</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/19/android9-sp/">Android P 源码分析 3 - SharedPreferences 源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/12/android9-sp-wp/">Android P 源码分析 2 - 强弱指针的实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/06/android9-light-sp/">Android P 源码分析 1 - 轻量级智能指针的实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/15/linux-wait-event/">Java 程序员眼里的 Linux 内核 —— wait_event 源码分析</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//jekton-github-io.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">程序员虾饺.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>